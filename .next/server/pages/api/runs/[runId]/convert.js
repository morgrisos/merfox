"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/runs/[runId]/convert";
exports.ids = ["pages/api/runs/[runId]/convert"];
exports.modules = {

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ }),

/***/ "csv-parse/sync":
/*!*********************************!*\
  !*** external "csv-parse/sync" ***!
  \*********************************/
/***/ ((module) => {

module.exports = import("csv-parse/sync");;

/***/ }),

/***/ "csv-stringify/sync":
/*!*************************************!*\
  !*** external "csv-stringify/sync" ***!
  \*************************************/
/***/ ((module) => {

module.exports = import("csv-stringify/sync");;

/***/ }),

/***/ "fs/promises":
/*!******************************!*\
  !*** external "fs/promises" ***!
  \******************************/
/***/ ((module) => {

module.exports = require("fs/promises");

/***/ }),

/***/ "os":
/*!*********************!*\
  !*** external "os" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("os");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("path");

/***/ }),

/***/ "(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fruns%2F%5BrunId%5D%2Fconvert&preferredRegion=&absolutePagePath=.%2Fsrc%2Fpages%2Fapi%2Fruns%2F%5BrunId%5D%2Fconvert.ts&middlewareConfigBase64=e30%3D!":
/*!********************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fruns%2F%5BrunId%5D%2Fconvert&preferredRegion=&absolutePagePath=.%2Fsrc%2Fpages%2Fapi%2Fruns%2F%5BrunId%5D%2Fconvert.ts&middlewareConfigBase64=e30%3D! ***!
  \********************************************************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/pages-api/module.compiled */ \"(api)/./node_modules/next/dist/server/future/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(api)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _src_pages_api_runs_runId_convert_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/pages/api/runs/[runId]/convert.ts */ \"(api)/./src/pages/api/runs/[runId]/convert.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_src_pages_api_runs_runId_convert_ts__WEBPACK_IMPORTED_MODULE_3__]);\n_src_pages_api_runs_runId_convert_ts__WEBPACK_IMPORTED_MODULE_3__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_src_pages_api_runs_runId_convert_ts__WEBPACK_IMPORTED_MODULE_3__, \"default\"));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_src_pages_api_runs_runId_convert_ts__WEBPACK_IMPORTED_MODULE_3__, \"config\");\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/runs/[runId]/convert\",\n        pathname: \"/api/runs/[runId]/convert\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\"\n    },\n    userland: _src_pages_api_runs_runId_convert_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LXJvdXRlLWxvYWRlci9pbmRleC5qcz9raW5kPVBBR0VTX0FQSSZwYWdlPSUyRmFwaSUyRnJ1bnMlMkYlNUJydW5JZCU1RCUyRmNvbnZlcnQmcHJlZmVycmVkUmVnaW9uPSZhYnNvbHV0ZVBhZ2VQYXRoPS4lMkZzcmMlMkZwYWdlcyUyRmFwaSUyRnJ1bnMlMkYlNUJydW5JZCU1RCUyRmNvbnZlcnQudHMmbWlkZGxld2FyZUNvbmZpZ0Jhc2U2ND1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7O0FBQXNHO0FBQ3ZDO0FBQ0w7QUFDMUQ7QUFDb0U7QUFDcEU7QUFDQSxpRUFBZSx3RUFBSyxDQUFDLGlFQUFRLFlBQVksRUFBQztBQUMxQztBQUNPLGVBQWUsd0VBQUssQ0FBQyxpRUFBUTtBQUNwQztBQUNPLHdCQUF3QixnSEFBbUI7QUFDbEQ7QUFDQSxjQUFjLHlFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0wsWUFBWTtBQUNaLENBQUM7O0FBRUQscUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tZXJmb3gvP2UxNGQiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUGFnZXNBUElSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1tb2R1bGVzL3BhZ2VzLWFwaS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBob2lzdCB9IGZyb20gXCJuZXh0L2Rpc3QvYnVpbGQvdGVtcGxhdGVzL2hlbHBlcnNcIjtcbi8vIEltcG9ydCB0aGUgdXNlcmxhbmQgY29kZS5cbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCIuL3NyYy9wYWdlcy9hcGkvcnVucy9bcnVuSWRdL2NvbnZlcnQudHNcIjtcbi8vIFJlLWV4cG9ydCB0aGUgaGFuZGxlciAoc2hvdWxkIGJlIHRoZSBkZWZhdWx0IGV4cG9ydCkuXG5leHBvcnQgZGVmYXVsdCBob2lzdCh1c2VybGFuZCwgXCJkZWZhdWx0XCIpO1xuLy8gUmUtZXhwb3J0IGNvbmZpZy5cbmV4cG9ydCBjb25zdCBjb25maWcgPSBob2lzdCh1c2VybGFuZCwgXCJjb25maWdcIik7XG4vLyBDcmVhdGUgYW5kIGV4cG9ydCB0aGUgcm91dGUgbW9kdWxlIHRoYXQgd2lsbCBiZSBjb25zdW1lZC5cbmV4cG9ydCBjb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBQYWdlc0FQSVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5QQUdFU19BUEksXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9ydW5zL1tydW5JZF0vY29udmVydFwiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL3J1bnMvW3J1bklkXS9jb252ZXJ0XCIsXG4gICAgICAgIC8vIFRoZSBmb2xsb3dpbmcgYXJlbid0IHVzZWQgaW4gcHJvZHVjdGlvbi5cbiAgICAgICAgYnVuZGxlUGF0aDogXCJcIixcbiAgICAgICAgZmlsZW5hbWU6IFwiXCJcbiAgICB9LFxuICAgIHVzZXJsYW5kXG59KTtcblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGFnZXMtYXBpLmpzLm1hcCJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fruns%2F%5BrunId%5D%2Fconvert&preferredRegion=&absolutePagePath=.%2Fsrc%2Fpages%2Fapi%2Fruns%2F%5BrunId%5D%2Fconvert.ts&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api)/./src/lib/converter/index.ts":
/*!************************************!*\
  !*** ./src/lib/converter/index.ts ***!
  \************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AmazonConverter: () => (/* binding */ AmazonConverter)\n/* harmony export */ });\n/* harmony import */ var fs_promises__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! fs/promises */ \"fs/promises\");\n/* harmony import */ var fs_promises__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(fs_promises__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! path */ \"path\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var csv_parse_sync__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! csv-parse/sync */ \"csv-parse/sync\");\n/* harmony import */ var csv_stringify_sync__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! csv-stringify/sync */ \"csv-stringify/sync\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([csv_parse_sync__WEBPACK_IMPORTED_MODULE_2__, csv_stringify_sync__WEBPACK_IMPORTED_MODULE_3__]);\n([csv_parse_sync__WEBPACK_IMPORTED_MODULE_2__, csv_stringify_sync__WEBPACK_IMPORTED_MODULE_3__] = __webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__);\n\n\n\n\nconst AMAZON_HEADER = [\n    \"sku\",\n    \"product_id\",\n    \"product_id_type\",\n    \"price\",\n    \"quantity\",\n    \"condition_type\",\n    \"condition_note\",\n    \"handling_time\",\n    \"fulfillment_channel\",\n    \"shipping_template_name\"\n];\nclass AmazonConverter {\n    static async convert(executionDir, config) {\n        try {\n            // [MAPPING LOAD]\n            const mappingPath = path__WEBPACK_IMPORTED_MODULE_1___default().join(executionDir, \"mapping.csv\");\n            const runLogPath = path__WEBPACK_IMPORTED_MODULE_1___default().join(executionDir, \"run.log\");\n            let mapping = new Map();\n            const appendLog = async (msg)=>{\n                const line = `[${new Date().toISOString()}] ${msg}\\n`;\n                await fs_promises__WEBPACK_IMPORTED_MODULE_0___default().appendFile(runLogPath, line).catch(()=>{});\n            };\n            await appendLog(`[CONVERT] START run_dir=${executionDir}`);\n            try {\n                // Check exist/size\n                const stats = await fs_promises__WEBPACK_IMPORTED_MODULE_0___default().stat(mappingPath);\n                console.log(`[CONVERT] mapping.csv found. size=${stats.size} bytes`);\n                const mappingContent = await fs_promises__WEBPACK_IMPORTED_MODULE_0___default().readFile(mappingPath, \"utf8\");\n                // Allow loose parsing for mapping\n                const mapRecords = (0,csv_parse_sync__WEBPACK_IMPORTED_MODULE_2__.parse)(mappingContent, {\n                    columns: true,\n                    bom: true,\n                    skip_empty_lines: true,\n                    relax_column_count: true\n                });\n                await appendLog(`[CONVERT] mapping.csv detected. exists=true size=${stats.size} rows=${mapRecords.length}`);\n                for (const row of mapRecords){\n                    if (row.item_id && row.amazon_product_id) {\n                        mapping.set(row.item_id, {\n                            id: row.amazon_product_id,\n                            type: row.amazon_product_id_type || \"ASIN\"\n                        });\n                    }\n                }\n                console.log(`[CONVERT] Loaded ${mapping.size} mappings from mapping.csv`);\n                await appendLog(`[CONVERT] Loaded ${mapping.size} mappings`);\n            } catch (e) {\n                if (e.code === \"ENOENT\") {\n                    console.log(\"[CONVERT] No mapping.csv found, skipping mapping load.\");\n                    await appendLog(`[CONVERT] mapping.csv detected. exists=false`);\n                } else {\n                    console.log(\"[CONVERT] Failed to load mapping.csv\", e);\n                    await appendLog(`[CONVERT] Failed to load mapping.csv: ${e.message}`);\n                }\n            }\n            const rawPath = path__WEBPACK_IMPORTED_MODULE_1___default().join(executionDir, \"raw.csv\");\n            const rawContent = await fs_promises__WEBPACK_IMPORTED_MODULE_0___default().readFile(rawPath, \"utf8\");\n            const records = (0,csv_parse_sync__WEBPACK_IMPORTED_MODULE_2__.parse)(rawContent, {\n                columns: true,\n                bom: true\n            });\n            const tsvRows = [];\n            const failedRows = [];\n            const reportRows = [];\n            let noProductIdCount = 0;\n            for (const item of records){\n                const report = {\n                    item_id: item.item_id,\n                    status: \"SUCCESS\",\n                    message: \"\"\n                };\n                // Safety Checks / Filter again just in case\n                if (!item.item_id) {\n                    continue;\n                }\n                // Price Filter\n                if (item.price_yen > (config.maxPrice || 100000)) {\n                    report.status = \"SKIPPED_PRICE\";\n                    report.message = `Price ${item.price_yen} > ${config.maxPrice}`;\n                    reportRows.push(report);\n                    continue;\n                }\n                if (config.minPrice && item.price_yen < config.minPrice) {\n                    report.status = \"SKIPPED_PRICE\";\n                    report.message = `Price ${item.price_yen} < ${config.minPrice}`;\n                    reportRows.push(report);\n                    continue;\n                }\n                // [ID MAPPING APPLY]\n                if (!item.amazon_product_id) {\n                    const mapped = mapping.get(item.item_id);\n                    if (mapped) {\n                        item.amazon_product_id = mapped.id;\n                        item.amazon_product_id_type = mapped.type;\n                    }\n                }\n                // ID Check\n                if (!item.amazon_product_id) {\n                    noProductIdCount++;\n                    const reason = \"ASIN/JAN mapping is missing\";\n                    failedRows.push({\n                        item_id: item.item_id,\n                        item_url: item.item_url,\n                        title: item.title,\n                        price: item.price_yen,\n                        reason_code: \"NO_PRODUCT_ID\",\n                        reason_detail: reason,\n                        suggested_action: \"Import ID table\"\n                    });\n                    report.status = \"FAILED\";\n                    report.message = reason;\n                    reportRows.push(report);\n                    continue;\n                }\n                tsvRows.push([\n                    `MF-${item.item_id}`,\n                    item.amazon_product_id,\n                    item.amazon_product_id_type || \"ASIN\",\n                    item.price_yen,\n                    1,\n                    \"used_good\",\n                    \"中古品です。\",\n                    2,\n                    \"MFN\",\n                    \"\" // shipping_template_name\n                ]);\n                reportRows.push(report);\n            }\n            // Write TSV\n            const tsvOutput = (0,csv_stringify_sync__WEBPACK_IMPORTED_MODULE_3__.stringify)(tsvRows, {\n                header: true,\n                columns: AMAZON_HEADER,\n                delimiter: \"\t\"\n            });\n            await fs_promises__WEBPACK_IMPORTED_MODULE_0___default().writeFile(path__WEBPACK_IMPORTED_MODULE_1___default().join(executionDir, \"amazon_upload.tsv\"), \"\\uFEFF\" + tsvOutput);\n            // Write Failed CSV\n            if (failedRows.length > 0) {\n                const failedOutput = (0,csv_stringify_sync__WEBPACK_IMPORTED_MODULE_3__.stringify)(failedRows, {\n                    header: true\n                });\n                await fs_promises__WEBPACK_IMPORTED_MODULE_0___default().writeFile(path__WEBPACK_IMPORTED_MODULE_1___default().join(executionDir, \"amazon_convert_failed.csv\"), \"\\uFEFF\" + failedOutput);\n            }\n            // [REPORT] Write Full Report\n            if (reportRows.length > 0) {\n                const reportOutput = (0,csv_stringify_sync__WEBPACK_IMPORTED_MODULE_3__.stringify)(reportRows, {\n                    header: true,\n                    columns: [\n                        \"item_id\",\n                        \"status\",\n                        \"message\"\n                    ]\n                });\n                await fs_promises__WEBPACK_IMPORTED_MODULE_0___default().writeFile(path__WEBPACK_IMPORTED_MODULE_1___default().join(executionDir, \"amazon_convert_report.csv\"), \"\\uFEFF\" + reportOutput);\n            }\n            // [FAILED URLS] Append failure to failed_urls.csv for convenience\n            if (failedRows.length > 0) {\n                const timestamp = new Date().toISOString();\n                let failedUrlsContent = \"\";\n                for (const row of failedRows){\n                    if (row.item_url) {\n                        failedUrlsContent += `${timestamp},\"${row.item_url}\",\"${row.reason_code}: ${row.reason_detail}\"\\n`;\n                    }\n                }\n                if (failedUrlsContent) {\n                    await fs_promises__WEBPACK_IMPORTED_MODULE_0___default().appendFile(path__WEBPACK_IMPORTED_MODULE_1___default().join(executionDir, \"failed_urls.csv\"), failedUrlsContent);\n                }\n            }\n            return {\n                converted: tsvRows.length,\n                failed: failedRows.length,\n                failedNoId: noProductIdCount\n            };\n        } catch (e) {\n            console.error(\"Conversion failed\", e);\n            return {\n                converted: 0,\n                failed: 0,\n                failedNoId: 0\n            };\n        }\n    }\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Yyw4QkFBOEIsV0FBV2lFO1lBQ3hGO1lBRUEsa0VBQWtFO1lBQ2xFLElBQUl4QixXQUFXZixNQUFNLEdBQUcsR0FBRztnQkFDdkIsTUFBTXdDLFlBQVksSUFBSXhELE9BQU9DLFdBQVc7Z0JBQ3hDLElBQUl3RCxvQkFBb0I7Z0JBQ3hCLEtBQUssTUFBTXhDLE9BQU9jLFdBQVk7b0JBQzFCLElBQUlkLElBQUkyQixRQUFRLEVBQUU7d0JBQ2RhLHFCQUFxQixDQUFDLEVBQUVELFVBQVUsRUFBRSxFQUFFdkMsSUFBSTJCLFFBQVEsQ0FBQyxHQUFHLEVBQUUzQixJQUFJOEIsV0FBVyxDQUFDLEVBQUUsRUFBRTlCLElBQUkrQixhQUFhLENBQUMsR0FBRyxDQUFDO29CQUN0RztnQkFDSjtnQkFDQSxJQUFJUyxtQkFBbUI7b0JBQ25CLE1BQU0xRSw2REFBYSxDQUFDQyxnREFBUyxDQUFDTSxjQUFjLG9CQUFvQm1FO2dCQUNwRTtZQUNKO1lBRUEsT0FBTztnQkFBRUMsV0FBVzVCLFFBQVFkLE1BQU07Z0JBQUUyQyxRQUFRNUIsV0FBV2YsTUFBTTtnQkFBRTRDLFlBQVkzQjtZQUFpQjtRQUVoRyxFQUFFLE9BQU9ULEdBQUc7WUFDUmxCLFFBQVF1RCxLQUFLLENBQUMscUJBQXFCckM7WUFDbkMsT0FBTztnQkFBRWtDLFdBQVc7Z0JBQUdDLFFBQVE7Z0JBQUdDLFlBQVk7WUFBRTtRQUNwRDtJQUNKO0FBQ0oiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tZXJmb3gvLi9zcmMvbGliL2NvbnZlcnRlci9pbmRleC50cz8wYmEzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBmcyBmcm9tICdmcy9wcm9taXNlcyc7XG5pbXBvcnQgcGF0aCBmcm9tICdwYXRoJztcbmltcG9ydCB7IHBhcnNlIH0gZnJvbSAnY3N2LXBhcnNlL3N5bmMnO1xuaW1wb3J0IHsgc3RyaW5naWZ5IH0gZnJvbSAnY3N2LXN0cmluZ2lmeS9zeW5jJztcbmltcG9ydCB7IE1lckl0ZW0gfSBmcm9tICcuLi90eXBlcyc7XG5cbmNvbnN0IEFNQVpPTl9IRUFERVIgPSBbXG4gICAgJ3NrdScsICdwcm9kdWN0X2lkJywgJ3Byb2R1Y3RfaWRfdHlwZScsICdwcmljZScsXG4gICAgJ3F1YW50aXR5JywgJ2NvbmRpdGlvbl90eXBlJywgJ2NvbmRpdGlvbl9ub3RlJyxcbiAgICAnaGFuZGxpbmdfdGltZScsICdmdWxmaWxsbWVudF9jaGFubmVsJywgJ3NoaXBwaW5nX3RlbXBsYXRlX25hbWUnXG5dO1xuXG5leHBvcnQgY2xhc3MgQW1hem9uQ29udmVydGVyIHtcbiAgICBzdGF0aWMgYXN5bmMgY29udmVydChleGVjdXRpb25EaXI6IHN0cmluZywgY29uZmlnOiB7IG1pblByaWNlPzogbnVtYmVyLCBtYXhQcmljZT86IG51bWJlciB9KTogUHJvbWlzZTx7IGNvbnZlcnRlZDogbnVtYmVyLCBmYWlsZWQ6IG51bWJlciwgZmFpbGVkTm9JZDogbnVtYmVyIH0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIFtNQVBQSU5HIExPQURdXG4gICAgICAgICAgICBjb25zdCBtYXBwaW5nUGF0aCA9IHBhdGguam9pbihleGVjdXRpb25EaXIsICdtYXBwaW5nLmNzdicpO1xuICAgICAgICAgICAgY29uc3QgcnVuTG9nUGF0aCA9IHBhdGguam9pbihleGVjdXRpb25EaXIsICdydW4ubG9nJyk7XG4gICAgICAgICAgICBsZXQgbWFwcGluZyA9IG5ldyBNYXA8c3RyaW5nLCB7IGlkOiBzdHJpbmcsIHR5cGU6IHN0cmluZyB9PigpO1xuXG4gICAgICAgICAgICBjb25zdCBhcHBlbmRMb2cgPSBhc3luYyAobXNnOiBzdHJpbmcpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBsaW5lID0gYFske25ldyBEYXRlKCkudG9JU09TdHJpbmcoKX1dICR7bXNnfVxcbmA7XG4gICAgICAgICAgICAgICAgYXdhaXQgZnMuYXBwZW5kRmlsZShydW5Mb2dQYXRoLCBsaW5lKS5jYXRjaCgoKSA9PiB7IH0pO1xuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgYXdhaXQgYXBwZW5kTG9nKGBbQ09OVkVSVF0gU1RBUlQgcnVuX2Rpcj0ke2V4ZWN1dGlvbkRpcn1gKTtcblxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAvLyBDaGVjayBleGlzdC9zaXplXG4gICAgICAgICAgICAgICAgY29uc3Qgc3RhdHMgPSBhd2FpdCBmcy5zdGF0KG1hcHBpbmdQYXRoKTtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhgW0NPTlZFUlRdIG1hcHBpbmcuY3N2IGZvdW5kLiBzaXplPSR7c3RhdHMuc2l6ZX0gYnl0ZXNgKTtcblxuICAgICAgICAgICAgICAgIGNvbnN0IG1hcHBpbmdDb250ZW50ID0gYXdhaXQgZnMucmVhZEZpbGUobWFwcGluZ1BhdGgsICd1dGY4Jyk7XG4gICAgICAgICAgICAgICAgLy8gQWxsb3cgbG9vc2UgcGFyc2luZyBmb3IgbWFwcGluZ1xuICAgICAgICAgICAgICAgIGNvbnN0IG1hcFJlY29yZHMgPSBwYXJzZShtYXBwaW5nQ29udGVudCwge1xuICAgICAgICAgICAgICAgICAgICBjb2x1bW5zOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBib206IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIHNraXBfZW1wdHlfbGluZXM6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIHJlbGF4X2NvbHVtbl9jb3VudDogdHJ1ZVxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgYXdhaXQgYXBwZW5kTG9nKGBbQ09OVkVSVF0gbWFwcGluZy5jc3YgZGV0ZWN0ZWQuIGV4aXN0cz10cnVlIHNpemU9JHtzdGF0cy5zaXplfSByb3dzPSR7bWFwUmVjb3Jkcy5sZW5ndGh9YCk7XG5cbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHJvdyBvZiBtYXBSZWNvcmRzIGFzIGFueVtdKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyb3cuaXRlbV9pZCAmJiByb3cuYW1hem9uX3Byb2R1Y3RfaWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hcHBpbmcuc2V0KHJvdy5pdGVtX2lkLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IHJvdy5hbWF6b25fcHJvZHVjdF9pZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiByb3cuYW1hem9uX3Byb2R1Y3RfaWRfdHlwZSB8fCAnQVNJTidcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGBbQ09OVkVSVF0gTG9hZGVkICR7bWFwcGluZy5zaXplfSBtYXBwaW5ncyBmcm9tIG1hcHBpbmcuY3N2YCk7XG4gICAgICAgICAgICAgICAgYXdhaXQgYXBwZW5kTG9nKGBbQ09OVkVSVF0gTG9hZGVkICR7bWFwcGluZy5zaXplfSBtYXBwaW5nc2ApO1xuXG4gICAgICAgICAgICB9IGNhdGNoIChlOiBhbnkpIHtcbiAgICAgICAgICAgICAgICBpZiAoZS5jb2RlID09PSAnRU5PRU5UJykge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnW0NPTlZFUlRdIE5vIG1hcHBpbmcuY3N2IGZvdW5kLCBza2lwcGluZyBtYXBwaW5nIGxvYWQuJyk7XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IGFwcGVuZExvZyhgW0NPTlZFUlRdIG1hcHBpbmcuY3N2IGRldGVjdGVkLiBleGlzdHM9ZmFsc2VgKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnW0NPTlZFUlRdIEZhaWxlZCB0byBsb2FkIG1hcHBpbmcuY3N2JywgZSk7XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IGFwcGVuZExvZyhgW0NPTlZFUlRdIEZhaWxlZCB0byBsb2FkIG1hcHBpbmcuY3N2OiAke2UubWVzc2FnZX1gKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IHJhd1BhdGggPSBwYXRoLmpvaW4oZXhlY3V0aW9uRGlyLCAncmF3LmNzdicpO1xuICAgICAgICAgICAgY29uc3QgcmF3Q29udGVudCA9IGF3YWl0IGZzLnJlYWRGaWxlKHJhd1BhdGgsICd1dGY4Jyk7XG4gICAgICAgICAgICBjb25zdCByZWNvcmRzID0gcGFyc2UocmF3Q29udGVudCwgeyBjb2x1bW5zOiB0cnVlLCBib206IHRydWUgfSkgYXMgTWVySXRlbVtdO1xuXG4gICAgICAgICAgICBjb25zdCB0c3ZSb3dzID0gW107XG4gICAgICAgICAgICBjb25zdCBmYWlsZWRSb3dzID0gW107XG4gICAgICAgICAgICBjb25zdCByZXBvcnRSb3dzID0gW107XG4gICAgICAgICAgICBsZXQgbm9Qcm9kdWN0SWRDb3VudCA9IDA7XG5cbiAgICAgICAgICAgIGZvciAoY29uc3QgaXRlbSBvZiByZWNvcmRzKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVwb3J0ID0geyBpdGVtX2lkOiBpdGVtLml0ZW1faWQsIHN0YXR1czogJ1NVQ0NFU1MnLCBtZXNzYWdlOiAnJyB9O1xuXG4gICAgICAgICAgICAgICAgLy8gU2FmZXR5IENoZWNrcyAvIEZpbHRlciBhZ2FpbiBqdXN0IGluIGNhc2VcbiAgICAgICAgICAgICAgICBpZiAoIWl0ZW0uaXRlbV9pZCkge1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBQcmljZSBGaWx0ZXJcbiAgICAgICAgICAgICAgICBpZiAoaXRlbS5wcmljZV95ZW4gPiAoY29uZmlnLm1heFByaWNlIHx8IDEwMDAwMCkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVwb3J0LnN0YXR1cyA9ICdTS0lQUEVEX1BSSUNFJztcbiAgICAgICAgICAgICAgICAgICAgcmVwb3J0Lm1lc3NhZ2UgPSBgUHJpY2UgJHtpdGVtLnByaWNlX3llbn0gPiAke2NvbmZpZy5tYXhQcmljZX1gO1xuICAgICAgICAgICAgICAgICAgICByZXBvcnRSb3dzLnB1c2gocmVwb3J0KTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChjb25maWcubWluUHJpY2UgJiYgaXRlbS5wcmljZV95ZW4gPCBjb25maWcubWluUHJpY2UpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVwb3J0LnN0YXR1cyA9ICdTS0lQUEVEX1BSSUNFJztcbiAgICAgICAgICAgICAgICAgICAgcmVwb3J0Lm1lc3NhZ2UgPSBgUHJpY2UgJHtpdGVtLnByaWNlX3llbn0gPCAke2NvbmZpZy5taW5QcmljZX1gO1xuICAgICAgICAgICAgICAgICAgICByZXBvcnRSb3dzLnB1c2gocmVwb3J0KTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gW0lEIE1BUFBJTkcgQVBQTFldXG4gICAgICAgICAgICAgICAgaWYgKCFpdGVtLmFtYXpvbl9wcm9kdWN0X2lkKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG1hcHBlZCA9IG1hcHBpbmcuZ2V0KGl0ZW0uaXRlbV9pZCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChtYXBwZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0uYW1hem9uX3Byb2R1Y3RfaWQgPSBtYXBwZWQuaWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBpdGVtLmFtYXpvbl9wcm9kdWN0X2lkX3R5cGUgPSBtYXBwZWQudHlwZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIElEIENoZWNrXG4gICAgICAgICAgICAgICAgaWYgKCFpdGVtLmFtYXpvbl9wcm9kdWN0X2lkKSB7XG4gICAgICAgICAgICAgICAgICAgIG5vUHJvZHVjdElkQ291bnQrKztcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVhc29uID0gJ0FTSU4vSkFOIG1hcHBpbmcgaXMgbWlzc2luZyc7XG5cbiAgICAgICAgICAgICAgICAgICAgZmFpbGVkUm93cy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW1faWQ6IGl0ZW0uaXRlbV9pZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW1fdXJsOiBpdGVtLml0ZW1fdXJsLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGl0bGU6IGl0ZW0udGl0bGUsXG4gICAgICAgICAgICAgICAgICAgICAgICBwcmljZTogaXRlbS5wcmljZV95ZW4sXG4gICAgICAgICAgICAgICAgICAgICAgICByZWFzb25fY29kZTogJ05PX1BST0RVQ1RfSUQnLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVhc29uX2RldGFpbDogcmVhc29uLFxuICAgICAgICAgICAgICAgICAgICAgICAgc3VnZ2VzdGVkX2FjdGlvbjogJ0ltcG9ydCBJRCB0YWJsZSdcbiAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgcmVwb3J0LnN0YXR1cyA9ICdGQUlMRUQnO1xuICAgICAgICAgICAgICAgICAgICByZXBvcnQubWVzc2FnZSA9IHJlYXNvbjtcbiAgICAgICAgICAgICAgICAgICAgcmVwb3J0Um93cy5wdXNoKHJlcG9ydCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHRzdlJvd3MucHVzaChbXG4gICAgICAgICAgICAgICAgICAgIGBNRi0ke2l0ZW0uaXRlbV9pZH1gLCAgICAgICAgICAvLyBza3VcbiAgICAgICAgICAgICAgICAgICAgaXRlbS5hbWF6b25fcHJvZHVjdF9pZCwgICAgICAgIC8vIHByb2R1Y3RfaWRcbiAgICAgICAgICAgICAgICAgICAgaXRlbS5hbWF6b25fcHJvZHVjdF9pZF90eXBlIHx8ICdBU0lOJywgICAvLyBwcm9kdWN0X2lkX3R5cGVcbiAgICAgICAgICAgICAgICAgICAgaXRlbS5wcmljZV95ZW4sICAgICAgICAgICAgICAgIC8vIHByaWNlXG4gICAgICAgICAgICAgICAgICAgIDEsICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBxdWFudGl0eVxuICAgICAgICAgICAgICAgICAgICAndXNlZF9nb29kJywgICAgICAgICAgICAgICAgICAgLy8gY29uZGl0aW9uX3R5cGVcbiAgICAgICAgICAgICAgICAgICAgJ+S4reWPpOWTgeOBp+OBmeOAgicsICAgICAgICAgICAgICAgICAgIC8vIGNvbmRpdGlvbl9ub3RlXG4gICAgICAgICAgICAgICAgICAgIDIsICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBoYW5kbGluZ190aW1lXG4gICAgICAgICAgICAgICAgICAgICdNRk4nLCAgICAgICAgICAgICAgICAgICAgICAgICAvLyBmdWxmaWxsbWVudF9jaGFubmVsXG4gICAgICAgICAgICAgICAgICAgICcnICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBzaGlwcGluZ190ZW1wbGF0ZV9uYW1lXG4gICAgICAgICAgICAgICAgXSk7XG5cbiAgICAgICAgICAgICAgICByZXBvcnRSb3dzLnB1c2gocmVwb3J0KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gV3JpdGUgVFNWXG4gICAgICAgICAgICBjb25zdCB0c3ZPdXRwdXQgPSBzdHJpbmdpZnkodHN2Um93cywgeyBoZWFkZXI6IHRydWUsIGNvbHVtbnM6IEFNQVpPTl9IRUFERVIsIGRlbGltaXRlcjogJ1xcdCcgfSk7XG4gICAgICAgICAgICBhd2FpdCBmcy53cml0ZUZpbGUocGF0aC5qb2luKGV4ZWN1dGlvbkRpciwgJ2FtYXpvbl91cGxvYWQudHN2JyksICdcXHVmZWZmJyArIHRzdk91dHB1dCk7XG5cbiAgICAgICAgICAgIC8vIFdyaXRlIEZhaWxlZCBDU1ZcbiAgICAgICAgICAgIGlmIChmYWlsZWRSb3dzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBjb25zdCBmYWlsZWRPdXRwdXQgPSBzdHJpbmdpZnkoZmFpbGVkUm93cywgeyBoZWFkZXI6IHRydWUgfSk7XG4gICAgICAgICAgICAgICAgYXdhaXQgZnMud3JpdGVGaWxlKHBhdGguam9pbihleGVjdXRpb25EaXIsICdhbWF6b25fY29udmVydF9mYWlsZWQuY3N2JyksICdcXHVmZWZmJyArIGZhaWxlZE91dHB1dCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIFtSRVBPUlRdIFdyaXRlIEZ1bGwgUmVwb3J0XG4gICAgICAgICAgICBpZiAocmVwb3J0Um93cy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVwb3J0T3V0cHV0ID0gc3RyaW5naWZ5KHJlcG9ydFJvd3MsIHsgaGVhZGVyOiB0cnVlLCBjb2x1bW5zOiBbJ2l0ZW1faWQnLCAnc3RhdHVzJywgJ21lc3NhZ2UnXSB9KTtcbiAgICAgICAgICAgICAgICBhd2FpdCBmcy53cml0ZUZpbGUocGF0aC5qb2luKGV4ZWN1dGlvbkRpciwgJ2FtYXpvbl9jb252ZXJ0X3JlcG9ydC5jc3YnKSwgJ1xcdWZlZmYnICsgcmVwb3J0T3V0cHV0KTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gW0ZBSUxFRCBVUkxTXSBBcHBlbmQgZmFpbHVyZSB0byBmYWlsZWRfdXJscy5jc3YgZm9yIGNvbnZlbmllbmNlXG4gICAgICAgICAgICBpZiAoZmFpbGVkUm93cy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdGltZXN0YW1wID0gbmV3IERhdGUoKS50b0lTT1N0cmluZygpO1xuICAgICAgICAgICAgICAgIGxldCBmYWlsZWRVcmxzQ29udGVudCA9ICcnO1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3Qgcm93IG9mIGZhaWxlZFJvd3MpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJvdy5pdGVtX3VybCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZmFpbGVkVXJsc0NvbnRlbnQgKz0gYCR7dGltZXN0YW1wfSxcIiR7cm93Lml0ZW1fdXJsfVwiLFwiJHtyb3cucmVhc29uX2NvZGV9OiAke3Jvdy5yZWFzb25fZGV0YWlsfVwiXFxuYDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoZmFpbGVkVXJsc0NvbnRlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgZnMuYXBwZW5kRmlsZShwYXRoLmpvaW4oZXhlY3V0aW9uRGlyLCAnZmFpbGVkX3VybHMuY3N2JyksIGZhaWxlZFVybHNDb250ZW50KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHJldHVybiB7IGNvbnZlcnRlZDogdHN2Um93cy5sZW5ndGgsIGZhaWxlZDogZmFpbGVkUm93cy5sZW5ndGgsIGZhaWxlZE5vSWQ6IG5vUHJvZHVjdElkQ291bnQgfTtcblxuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdDb252ZXJzaW9uIGZhaWxlZCcsIGUpO1xuICAgICAgICAgICAgcmV0dXJuIHsgY29udmVydGVkOiAwLCBmYWlsZWQ6IDAsIGZhaWxlZE5vSWQ6IDAgfTtcbiAgICAgICAgfVxuICAgIH1cbn1cbiJdLCJuYW1lcyI6WyJmcyIsInBhdGgiLCJwYXJzZSIsInN0cmluZ2lmeSIsIkFNQVpPTl9IRUFERVIiLCJBbWF6b25Db252ZXJ0ZXIiLCJjb252ZXJ0IiwiZXhlY3V0aW9uRGlyIiwiY29uZmlnIiwibWFwcGluZ1BhdGgiLCJqb2luIiwicnVuTG9nUGF0aCIsIm1hcHBpbmciLCJNYXAiLCJhcHBlbmRMb2ciLCJtc2ciLCJsaW5lIiwiRGF0ZSIsInRvSVNPU3RyaW5nIiwiYXBwZW5kRmlsZSIsImNhdGNoIiwic3RhdHMiLCJzdGF0IiwiY29uc29sZSIsImxvZyIsInNpemUiLCJtYXBwaW5nQ29udGVudCIsInJlYWRGaWxlIiwibWFwUmVjb3JkcyIsImNvbHVtbnMiLCJib20iLCJza2lwX2VtcHR5X2xpbmVzIiwicmVsYXhfY29sdW1uX2NvdW50IiwibGVuZ3RoIiwicm93IiwiaXRlbV9pZCIsImFtYXpvbl9wcm9kdWN0X2lkIiwic2V0IiwiaWQiLCJ0eXBlIiwiYW1hem9uX3Byb2R1Y3RfaWRfdHlwZSIsImUiLCJjb2RlIiwibWVzc2FnZSIsInJhd1BhdGgiLCJyYXdDb250ZW50IiwicmVjb3JkcyIsInRzdlJvd3MiLCJmYWlsZWRSb3dzIiwicmVwb3J0Um93cyIsIm5vUHJvZHVjdElkQ291bnQiLCJpdGVtIiwicmVwb3J0Iiwic3RhdHVzIiwicHJpY2VfeWVuIiwibWF4UHJpY2UiLCJwdXNoIiwibWluUHJpY2UiLCJtYXBwZWQiLCJnZXQiLCJyZWFzb24iLCJpdGVtX3VybCIsInRpdGxlIiwicHJpY2UiLCJyZWFzb25fY29kZSIsInJlYXNvbl9kZXRhaWwiLCJzdWdnZXN0ZWRfYWN0aW9uIiwidHN2T3V0cHV0IiwiaGVhZGVyIiwiZGVsaW1pdGVyIiwid3JpdGVGaWxlIiwiZmFpbGVkT3V0cHV0IiwicmVwb3J0T3V0cHV0IiwidGltZXN0YW1wIiwiZmFpbGVkVXJsc0NvbnRlbnQiLCJjb252ZXJ0ZWQiLCJmYWlsZWQiLCJmYWlsZWROb0lkIiwiZXJyb3IiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./src/lib/converter/index.ts\n");

/***/ }),

/***/ "(api)/./src/lib/runUtils.ts":
/*!*****************************!*\
  !*** ./src/lib/runUtils.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   getGlobalMappingPath: () => (/* binding */ getGlobalMappingPath),\n/* harmony export */   getRunDir: () => (/* binding */ getRunDir),\n/* harmony export */   getRunsDir: () => (/* binding */ getRunsDir)\n/* harmony export */ });\n/* harmony import */ var fs_promises__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! fs/promises */ \"fs/promises\");\n/* harmony import */ var fs_promises__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(fs_promises__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! path */ \"path\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var os__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! os */ \"os\");\n/* harmony import */ var os__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(os__WEBPACK_IMPORTED_MODULE_2__);\n\n\n\nfunction getRunsDir() {\n    if (process.env.MERFOX_RUNS_DIR) return process.env.MERFOX_RUNS_DIR;\n    if (process.env.MERFOX_USER_DATA) return path__WEBPACK_IMPORTED_MODULE_1___default().join(process.env.MERFOX_USER_DATA, \"MerFox/runs\");\n    if (true) return path__WEBPACK_IMPORTED_MODULE_1___default().join(process.cwd(), \"runs_dev\");\n    return path__WEBPACK_IMPORTED_MODULE_1___default().join(os__WEBPACK_IMPORTED_MODULE_2___default().homedir(), \"Library/Application Support/merfox/MerFox/runs\");\n}\nfunction getGlobalMappingPath() {\n    const runsDir = getRunsDir();\n    return path__WEBPACK_IMPORTED_MODULE_1___default().join(path__WEBPACK_IMPORTED_MODULE_1___default().dirname(runsDir), \"mapping.csv\"); // .../MerFox/mapping.csv\n}\nasync function getRunDir(runId) {\n    const runsDir = getRunsDir();\n    const directPath = path__WEBPACK_IMPORTED_MODULE_1___default().join(runsDir, runId);\n    try {\n        await fs_promises__WEBPACK_IMPORTED_MODULE_0___default().access(directPath);\n    } catch  {\n        return null;\n    }\n    // 1. Search for subfolder <YYYY-MM-DD_runNNN>\n    try {\n        const entries = await fs_promises__WEBPACK_IMPORTED_MODULE_0___default().readdir(directPath, {\n            withFileTypes: true\n        });\n        const subdirs = entries.filter((e)=>e.isDirectory() && /^\\d{4}-\\d{2}-\\d{2}_run\\d{3}$/.test(e.name)).map((e)=>e.name).sort().reverse();\n        if (subdirs.length > 0) {\n            return path__WEBPACK_IMPORTED_MODULE_1___default().join(directPath, subdirs[0]);\n        }\n    } catch (e) {\n        console.error(\"Run sub-search failed:\", e);\n    }\n    // 2. Fallback: Check if direct path has raw.csv (Legacy flat)\n    try {\n        await fs_promises__WEBPACK_IMPORTED_MODULE_0___default().access(path__WEBPACK_IMPORTED_MODULE_1___default().join(directPath, \"raw.csv\"));\n        return directPath;\n    } catch  {}\n    return null;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9zcmMvbGliL3J1blV0aWxzLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUE2QjtBQUNMO0FBQ0o7QUFFYixTQUFTRztJQUNaLElBQUlDLFFBQVFDLEdBQUcsQ0FBQ0MsZUFBZSxFQUFFLE9BQU9GLFFBQVFDLEdBQUcsQ0FBQ0MsZUFBZTtJQUNuRSxJQUFJRixRQUFRQyxHQUFHLENBQUNFLGdCQUFnQixFQUFFLE9BQU9OLGdEQUFTLENBQUNHLFFBQVFDLEdBQUcsQ0FBQ0UsZ0JBQWdCLEVBQUU7SUFDakYsSUFBSUgsSUFBeUIsRUFBZSxPQUFPSCxnREFBUyxDQUFDRyxRQUFRSyxHQUFHLElBQUk7SUFDNUUsT0FBT1IsZ0RBQVMsQ0FBQ0MsaURBQVUsSUFBSTtBQUNuQztBQUVPLFNBQVNTO0lBQ1osTUFBTUMsVUFBVVQ7SUFDaEIsT0FBT0YsZ0RBQVMsQ0FBQ0EsbURBQVksQ0FBQ1csVUFBVSxnQkFBZ0IseUJBQXlCO0FBQ3JGO0FBRU8sZUFBZUUsVUFBVUMsS0FBYTtJQUN6QyxNQUFNSCxVQUFVVDtJQUNoQixNQUFNYSxhQUFhZixnREFBUyxDQUFDVyxTQUFTRztJQUV0QyxJQUFJO1FBQ0EsTUFBTWYseURBQVMsQ0FBQ2dCO0lBQ3BCLEVBQUUsT0FBTTtRQUNKLE9BQU87SUFDWDtJQUVBLDhDQUE4QztJQUM5QyxJQUFJO1FBQ0EsTUFBTUUsVUFBVSxNQUFNbEIsMERBQVUsQ0FBQ2dCLFlBQVk7WUFBRUksZUFBZTtRQUFLO1FBQ25FLE1BQU1DLFVBQVVILFFBQ1hJLE1BQU0sQ0FBQ0MsQ0FBQUEsSUFBS0EsRUFBRUMsV0FBVyxNQUFNLCtCQUErQkMsSUFBSSxDQUFDRixFQUFFRyxJQUFJLEdBQ3pFQyxHQUFHLENBQUNKLENBQUFBLElBQUtBLEVBQUVHLElBQUksRUFDZkUsSUFBSSxHQUFHQyxPQUFPO1FBRW5CLElBQUlSLFFBQVFTLE1BQU0sR0FBRyxHQUFHO1lBQ3BCLE9BQU83QixnREFBUyxDQUFDZSxZQUFZSyxPQUFPLENBQUMsRUFBRTtRQUMzQztJQUNKLEVBQUUsT0FBT0UsR0FBRztRQUNSUSxRQUFRQyxLQUFLLENBQUMsMEJBQTBCVDtJQUM1QztJQUVBLDhEQUE4RDtJQUM5RCxJQUFJO1FBQ0EsTUFBTXZCLHlEQUFTLENBQUNDLGdEQUFTLENBQUNlLFlBQVk7UUFDdEMsT0FBT0E7SUFDWCxFQUFFLE9BQU0sQ0FBRTtJQUVWLE9BQU87QUFDWCIsInNvdXJjZXMiOlsid2VicGFjazovL21lcmZveC8uL3NyYy9saWIvcnVuVXRpbHMudHM/YTFjZiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgZnMgZnJvbSAnZnMvcHJvbWlzZXMnO1xuaW1wb3J0IHBhdGggZnJvbSAncGF0aCc7XG5pbXBvcnQgb3MgZnJvbSAnb3MnO1xuXG5leHBvcnQgZnVuY3Rpb24gZ2V0UnVuc0RpcigpIHtcbiAgICBpZiAocHJvY2Vzcy5lbnYuTUVSRk9YX1JVTlNfRElSKSByZXR1cm4gcHJvY2Vzcy5lbnYuTUVSRk9YX1JVTlNfRElSO1xuICAgIGlmIChwcm9jZXNzLmVudi5NRVJGT1hfVVNFUl9EQVRBKSByZXR1cm4gcGF0aC5qb2luKHByb2Nlc3MuZW52Lk1FUkZPWF9VU0VSX0RBVEEsICdNZXJGb3gvcnVucycpO1xuICAgIGlmIChwcm9jZXNzLmVudi5OT0RFX0VOViA9PT0gJ2RldmVsb3BtZW50JykgcmV0dXJuIHBhdGguam9pbihwcm9jZXNzLmN3ZCgpLCAncnVuc19kZXYnKTtcbiAgICByZXR1cm4gcGF0aC5qb2luKG9zLmhvbWVkaXIoKSwgJ0xpYnJhcnkvQXBwbGljYXRpb24gU3VwcG9ydC9tZXJmb3gvTWVyRm94L3J1bnMnKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldEdsb2JhbE1hcHBpbmdQYXRoKCkge1xuICAgIGNvbnN0IHJ1bnNEaXIgPSBnZXRSdW5zRGlyKCk7XG4gICAgcmV0dXJuIHBhdGguam9pbihwYXRoLmRpcm5hbWUocnVuc0RpciksICdtYXBwaW5nLmNzdicpOyAvLyAuLi4vTWVyRm94L21hcHBpbmcuY3N2XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRSdW5EaXIocnVuSWQ6IHN0cmluZyk6IFByb21pc2U8c3RyaW5nIHwgbnVsbD4ge1xuICAgIGNvbnN0IHJ1bnNEaXIgPSBnZXRSdW5zRGlyKCk7XG4gICAgY29uc3QgZGlyZWN0UGF0aCA9IHBhdGguam9pbihydW5zRGlyLCBydW5JZCk7XG5cbiAgICB0cnkge1xuICAgICAgICBhd2FpdCBmcy5hY2Nlc3MoZGlyZWN0UGF0aCk7XG4gICAgfSBjYXRjaCB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIC8vIDEuIFNlYXJjaCBmb3Igc3ViZm9sZGVyIDxZWVlZLU1NLUREX3J1bk5OTj5cbiAgICB0cnkge1xuICAgICAgICBjb25zdCBlbnRyaWVzID0gYXdhaXQgZnMucmVhZGRpcihkaXJlY3RQYXRoLCB7IHdpdGhGaWxlVHlwZXM6IHRydWUgfSk7XG4gICAgICAgIGNvbnN0IHN1YmRpcnMgPSBlbnRyaWVzXG4gICAgICAgICAgICAuZmlsdGVyKGUgPT4gZS5pc0RpcmVjdG9yeSgpICYmIC9eXFxkezR9LVxcZHsyfS1cXGR7Mn1fcnVuXFxkezN9JC8udGVzdChlLm5hbWUpKVxuICAgICAgICAgICAgLm1hcChlID0+IGUubmFtZSlcbiAgICAgICAgICAgIC5zb3J0KCkucmV2ZXJzZSgpO1xuXG4gICAgICAgIGlmIChzdWJkaXJzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIHJldHVybiBwYXRoLmpvaW4oZGlyZWN0UGF0aCwgc3ViZGlyc1swXSk7XG4gICAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1J1biBzdWItc2VhcmNoIGZhaWxlZDonLCBlKTtcbiAgICB9XG5cbiAgICAvLyAyLiBGYWxsYmFjazogQ2hlY2sgaWYgZGlyZWN0IHBhdGggaGFzIHJhdy5jc3YgKExlZ2FjeSBmbGF0KVxuICAgIHRyeSB7XG4gICAgICAgIGF3YWl0IGZzLmFjY2VzcyhwYXRoLmpvaW4oZGlyZWN0UGF0aCwgJ3Jhdy5jc3YnKSk7XG4gICAgICAgIHJldHVybiBkaXJlY3RQYXRoO1xuICAgIH0gY2F0Y2ggeyB9XG5cbiAgICByZXR1cm4gbnVsbDtcbn1cbiJdLCJuYW1lcyI6WyJmcyIsInBhdGgiLCJvcyIsImdldFJ1bnNEaXIiLCJwcm9jZXNzIiwiZW52IiwiTUVSRk9YX1JVTlNfRElSIiwiTUVSRk9YX1VTRVJfREFUQSIsImpvaW4iLCJjd2QiLCJob21lZGlyIiwiZ2V0R2xvYmFsTWFwcGluZ1BhdGgiLCJydW5zRGlyIiwiZGlybmFtZSIsImdldFJ1bkRpciIsInJ1bklkIiwiZGlyZWN0UGF0aCIsImFjY2VzcyIsImVudHJpZXMiLCJyZWFkZGlyIiwid2l0aEZpbGVUeXBlcyIsInN1YmRpcnMiLCJmaWx0ZXIiLCJlIiwiaXNEaXJlY3RvcnkiLCJ0ZXN0IiwibmFtZSIsIm1hcCIsInNvcnQiLCJyZXZlcnNlIiwibGVuZ3RoIiwiY29uc29sZSIsImVycm9yIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./src/lib/runUtils.ts\n");

/***/ }),

/***/ "(api)/./src/pages/api/runs/[runId]/convert.ts":
/*!***********************************************!*\
  !*** ./src/pages/api/runs/[runId]/convert.ts ***!
  \***********************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var fs_promises__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! fs/promises */ \"fs/promises\");\n/* harmony import */ var fs_promises__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(fs_promises__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! path */ \"path\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _lib_converter__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../lib/converter */ \"(api)/./src/lib/converter/index.ts\");\n/* harmony import */ var _lib_runUtils__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../lib/runUtils */ \"(api)/./src/lib/runUtils.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_lib_converter__WEBPACK_IMPORTED_MODULE_2__]);\n_lib_converter__WEBPACK_IMPORTED_MODULE_2__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n// import { existsSync } from 'fs';\n\n // Ensure this exists or adapt import\n\nasync function handler(req, res) {\n    if (req.method !== \"POST\") {\n        return res.status(405).json({\n            error: \"Method not allowed\"\n        });\n    }\n    const { runId } = req.query;\n    if (!runId || Array.isArray(runId)) {\n        return res.status(400).json({\n            error: \"Invalid Run ID\"\n        });\n    }\n    const runDir = await (0,_lib_runUtils__WEBPACK_IMPORTED_MODULE_3__.getRunDir)(runId);\n    // Debug info for 404\n    if (!runDir) {\n        // Re-import to avoid conflict if I can, or just use getRunsDir logic locally for debug msg\n        const { getRunsDir } = __webpack_require__(/*! ../../../../lib/runUtils */ \"(api)/./src/lib/runUtils.ts\");\n        const scanPath = getRunsDir();\n        return res.status(404).json({\n            error: \"Run directory not found\",\n            errorCode: \"RUN_DIR_NOT_FOUND\",\n            runId,\n            scanPath,\n            hint: \"Ensure the run exists in the scan path and contains raw.csv\"\n        });\n    }\n    try {\n        const runMappingPath = path__WEBPACK_IMPORTED_MODULE_1___default().join(runDir, \"mapping.csv\");\n        const globalMappingPath = (0,_lib_runUtils__WEBPACK_IMPORTED_MODULE_3__.getGlobalMappingPath)();\n        let mappingStatus = \"existing\";\n        let hasRunMapping = false;\n        try {\n            await fs_promises__WEBPACK_IMPORTED_MODULE_0___default().access(runMappingPath);\n            hasRunMapping = true;\n        } catch  {}\n        if (!hasRunMapping) {\n            let hasGlobal = false;\n            try {\n                await fs_promises__WEBPACK_IMPORTED_MODULE_0___default().access(globalMappingPath);\n                hasGlobal = true;\n            } catch  {}\n            if (hasGlobal) {\n                await fs_promises__WEBPACK_IMPORTED_MODULE_0___default().copyFile(globalMappingPath, runMappingPath);\n                mappingStatus = \"copied_from_global\";\n            } else {\n                const header = \"\\uFEFFitem_id,amazon_product_id,amazon_product_id_type\\n\";\n                await fs_promises__WEBPACK_IMPORTED_MODULE_0___default().writeFile(runMappingPath, header, \"utf8\");\n                mappingStatus = \"created_template\";\n            }\n        }\n        // Logic check: verify AmazonConverter import\n        // If not found, we might need to find where it is or mock it\n        // The user says \"existing converter logic\".\n        // Assuming src/server/engine/ExportService.js is not usable here directly without import?\n        // Wait, user said \"Use existing converter logic\".\n        // In VSCode/merfox it was src/lib/converter.\n        // In V4, ls src/lib had no converter folder in step 13668.\n        // I will check src/lib content again. If missing, I must port AmazonConverter too.\n        // Temporarily assuming it exists or I will create it.\n        const stats = await _lib_converter__WEBPACK_IMPORTED_MODULE_2__.AmazonConverter.convert(runDir, {});\n        return res.status(200).json({\n            success: true,\n            run_id: runId,\n            run_dir: runDir,\n            mapping_status: mappingStatus,\n            amazon_rows: stats.converted,\n            failed_rows: stats.failed\n        });\n    } catch (e) {\n        console.error(\"[API] Conversion failed:\", e);\n        return res.status(500).json({\n            error: e.message || \"Conversion failed\"\n        });\n    }\n}\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9zcmMvcGFnZXMvYXBpL3J1bnMvW3J1bklkXS9jb252ZXJ0LnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7QUFDNkI7QUFDN0IsbUNBQW1DO0FBQ1g7QUFDb0MsQ0FBQyxxQ0FBcUM7QUFDdkI7QUFFNUQsZUFBZUssUUFBUUMsR0FBbUIsRUFBRUMsR0FBb0I7SUFDM0UsSUFBSUQsSUFBSUUsTUFBTSxLQUFLLFFBQVE7UUFDdkIsT0FBT0QsSUFBSUUsTUFBTSxDQUFDLEtBQUtDLElBQUksQ0FBQztZQUFFQyxPQUFPO1FBQXFCO0lBQzlEO0lBRUEsTUFBTSxFQUFFQyxLQUFLLEVBQUUsR0FBR04sSUFBSU8sS0FBSztJQUUzQixJQUFJLENBQUNELFNBQVNFLE1BQU1DLE9BQU8sQ0FBQ0gsUUFBUTtRQUNoQyxPQUFPTCxJQUFJRSxNQUFNLENBQUMsS0FBS0MsSUFBSSxDQUFDO1lBQUVDLE9BQU87UUFBaUI7SUFDMUQ7SUFFQSxNQUFNSyxTQUFTLE1BQU1iLHdEQUFTQSxDQUFDUztJQUUvQixxQkFBcUI7SUFDckIsSUFBSSxDQUFDSSxRQUFRO1FBQ1QsMkZBQTJGO1FBQzNGLE1BQU0sRUFBRUMsVUFBVSxFQUFFLEdBQUdDLG1CQUFPQSxDQUFDO1FBQy9CLE1BQU1DLFdBQVdGO1FBQ2pCLE9BQU9WLElBQUlFLE1BQU0sQ0FBQyxLQUFLQyxJQUFJLENBQUM7WUFDeEJDLE9BQU87WUFDUFMsV0FBVztZQUNYUjtZQUNBTztZQUNBRSxNQUFNO1FBQ1Y7SUFDSjtJQUVBLElBQUk7UUFDQSxNQUFNQyxpQkFBaUJyQixnREFBUyxDQUFDZSxRQUFRO1FBQ3pDLE1BQU1RLG9CQUFvQnBCLG1FQUFvQkE7UUFDOUMsSUFBSXFCLGdCQUFnQjtRQUVwQixJQUFJQyxnQkFBZ0I7UUFDcEIsSUFBSTtZQUFFLE1BQU0xQix5REFBUyxDQUFDc0I7WUFBaUJJLGdCQUFnQjtRQUFNLEVBQUUsT0FBTSxDQUFFO1FBRXZFLElBQUksQ0FBQ0EsZUFBZTtZQUNoQixJQUFJRSxZQUFZO1lBQ2hCLElBQUk7Z0JBQUUsTUFBTTVCLHlEQUFTLENBQUN3QjtnQkFBb0JJLFlBQVk7WUFBTSxFQUFFLE9BQU0sQ0FBRTtZQUV0RSxJQUFJQSxXQUFXO2dCQUNYLE1BQU01QiwyREFBVyxDQUFDd0IsbUJBQW1CRjtnQkFDckNHLGdCQUFnQjtZQUNwQixPQUFPO2dCQUNILE1BQU1LLFNBQVM7Z0JBQ2YsTUFBTTlCLDREQUFZLENBQUNzQixnQkFBZ0JRLFFBQVE7Z0JBQzNDTCxnQkFBZ0I7WUFDcEI7UUFDSjtRQUVBLDZDQUE2QztRQUM3Qyw2REFBNkQ7UUFDN0QsNENBQTRDO1FBQzVDLDBGQUEwRjtRQUMxRixrREFBa0Q7UUFDbEQsNkNBQTZDO1FBQzdDLDJEQUEyRDtRQUMzRCxtRkFBbUY7UUFFbkYsc0RBQXNEO1FBQ3RELE1BQU1PLFFBQVEsTUFBTTlCLDJEQUFlQSxDQUFDK0IsT0FBTyxDQUFDakIsUUFBUSxDQUFDO1FBRXJELE9BQU9ULElBQUlFLE1BQU0sQ0FBQyxLQUFLQyxJQUFJLENBQUM7WUFDeEJ3QixTQUFTO1lBQ1RDLFFBQVF2QjtZQUNSd0IsU0FBU3BCO1lBQ1RxQixnQkFBZ0JaO1lBQ2hCYSxhQUFhTixNQUFNTyxTQUFTO1lBQzVCQyxhQUFhUixNQUFNUyxNQUFNO1FBQzdCO0lBRUosRUFBRSxPQUFPQyxHQUFRO1FBQ2JDLFFBQVFoQyxLQUFLLENBQUMsNEJBQTRCK0I7UUFDMUMsT0FBT25DLElBQUlFLE1BQU0sQ0FBQyxLQUFLQyxJQUFJLENBQUM7WUFBRUMsT0FBTytCLEVBQUVFLE9BQU8sSUFBSTtRQUFvQjtJQUMxRTtBQUNKIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbWVyZm94Ly4vc3JjL3BhZ2VzL2FwaS9ydW5zL1tydW5JZF0vY29udmVydC50cz9hMThhIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5leHRBcGlSZXF1ZXN0LCBOZXh0QXBpUmVzcG9uc2UgfSBmcm9tICduZXh0JztcbmltcG9ydCBmcyBmcm9tICdmcy9wcm9taXNlcyc7XG4vLyBpbXBvcnQgeyBleGlzdHNTeW5jIH0gZnJvbSAnZnMnO1xuaW1wb3J0IHBhdGggZnJvbSAncGF0aCc7XG5pbXBvcnQgeyBBbWF6b25Db252ZXJ0ZXIgfSBmcm9tICcuLi8uLi8uLi8uLi9saWIvY29udmVydGVyJzsgLy8gRW5zdXJlIHRoaXMgZXhpc3RzIG9yIGFkYXB0IGltcG9ydFxuaW1wb3J0IHsgZ2V0UnVuRGlyLCBnZXRHbG9iYWxNYXBwaW5nUGF0aCB9IGZyb20gJy4uLy4uLy4uLy4uL2xpYi9ydW5VdGlscyc7XG5cbmV4cG9ydCBkZWZhdWx0IGFzeW5jIGZ1bmN0aW9uIGhhbmRsZXIocmVxOiBOZXh0QXBpUmVxdWVzdCwgcmVzOiBOZXh0QXBpUmVzcG9uc2UpIHtcbiAgICBpZiAocmVxLm1ldGhvZCAhPT0gJ1BPU1QnKSB7XG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwNSkuanNvbih7IGVycm9yOiAnTWV0aG9kIG5vdCBhbGxvd2VkJyB9KTtcbiAgICB9XG5cbiAgICBjb25zdCB7IHJ1bklkIH0gPSByZXEucXVlcnk7XG5cbiAgICBpZiAoIXJ1bklkIHx8IEFycmF5LmlzQXJyYXkocnVuSWQpKSB7XG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7IGVycm9yOiAnSW52YWxpZCBSdW4gSUQnIH0pO1xuICAgIH1cblxuICAgIGNvbnN0IHJ1bkRpciA9IGF3YWl0IGdldFJ1bkRpcihydW5JZCk7XG5cbiAgICAvLyBEZWJ1ZyBpbmZvIGZvciA0MDRcbiAgICBpZiAoIXJ1bkRpcikge1xuICAgICAgICAvLyBSZS1pbXBvcnQgdG8gYXZvaWQgY29uZmxpY3QgaWYgSSBjYW4sIG9yIGp1c3QgdXNlIGdldFJ1bnNEaXIgbG9naWMgbG9jYWxseSBmb3IgZGVidWcgbXNnXG4gICAgICAgIGNvbnN0IHsgZ2V0UnVuc0RpciB9ID0gcmVxdWlyZSgnLi4vLi4vLi4vLi4vbGliL3J1blV0aWxzJyk7XG4gICAgICAgIGNvbnN0IHNjYW5QYXRoID0gZ2V0UnVuc0RpcigpO1xuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDQpLmpzb24oe1xuICAgICAgICAgICAgZXJyb3I6ICdSdW4gZGlyZWN0b3J5IG5vdCBmb3VuZCcsXG4gICAgICAgICAgICBlcnJvckNvZGU6ICdSVU5fRElSX05PVF9GT1VORCcsXG4gICAgICAgICAgICBydW5JZCxcbiAgICAgICAgICAgIHNjYW5QYXRoLFxuICAgICAgICAgICAgaGludDogJ0Vuc3VyZSB0aGUgcnVuIGV4aXN0cyBpbiB0aGUgc2NhbiBwYXRoIGFuZCBjb250YWlucyByYXcuY3N2J1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICB0cnkge1xuICAgICAgICBjb25zdCBydW5NYXBwaW5nUGF0aCA9IHBhdGguam9pbihydW5EaXIsICdtYXBwaW5nLmNzdicpO1xuICAgICAgICBjb25zdCBnbG9iYWxNYXBwaW5nUGF0aCA9IGdldEdsb2JhbE1hcHBpbmdQYXRoKCk7XG4gICAgICAgIGxldCBtYXBwaW5nU3RhdHVzID0gJ2V4aXN0aW5nJztcblxuICAgICAgICBsZXQgaGFzUnVuTWFwcGluZyA9IGZhbHNlO1xuICAgICAgICB0cnkgeyBhd2FpdCBmcy5hY2Nlc3MocnVuTWFwcGluZ1BhdGgpOyBoYXNSdW5NYXBwaW5nID0gdHJ1ZTsgfSBjYXRjaCB7IH1cblxuICAgICAgICBpZiAoIWhhc1J1bk1hcHBpbmcpIHtcbiAgICAgICAgICAgIGxldCBoYXNHbG9iYWwgPSBmYWxzZTtcbiAgICAgICAgICAgIHRyeSB7IGF3YWl0IGZzLmFjY2VzcyhnbG9iYWxNYXBwaW5nUGF0aCk7IGhhc0dsb2JhbCA9IHRydWU7IH0gY2F0Y2ggeyB9XG5cbiAgICAgICAgICAgIGlmIChoYXNHbG9iYWwpIHtcbiAgICAgICAgICAgICAgICBhd2FpdCBmcy5jb3B5RmlsZShnbG9iYWxNYXBwaW5nUGF0aCwgcnVuTWFwcGluZ1BhdGgpO1xuICAgICAgICAgICAgICAgIG1hcHBpbmdTdGF0dXMgPSAnY29waWVkX2Zyb21fZ2xvYmFsJztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc3QgaGVhZGVyID0gJ1xcdWZlZmZpdGVtX2lkLGFtYXpvbl9wcm9kdWN0X2lkLGFtYXpvbl9wcm9kdWN0X2lkX3R5cGVcXG4nO1xuICAgICAgICAgICAgICAgIGF3YWl0IGZzLndyaXRlRmlsZShydW5NYXBwaW5nUGF0aCwgaGVhZGVyLCAndXRmOCcpO1xuICAgICAgICAgICAgICAgIG1hcHBpbmdTdGF0dXMgPSAnY3JlYXRlZF90ZW1wbGF0ZSc7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBMb2dpYyBjaGVjazogdmVyaWZ5IEFtYXpvbkNvbnZlcnRlciBpbXBvcnRcbiAgICAgICAgLy8gSWYgbm90IGZvdW5kLCB3ZSBtaWdodCBuZWVkIHRvIGZpbmQgd2hlcmUgaXQgaXMgb3IgbW9jayBpdFxuICAgICAgICAvLyBUaGUgdXNlciBzYXlzIFwiZXhpc3RpbmcgY29udmVydGVyIGxvZ2ljXCIuXG4gICAgICAgIC8vIEFzc3VtaW5nIHNyYy9zZXJ2ZXIvZW5naW5lL0V4cG9ydFNlcnZpY2UuanMgaXMgbm90IHVzYWJsZSBoZXJlIGRpcmVjdGx5IHdpdGhvdXQgaW1wb3J0P1xuICAgICAgICAvLyBXYWl0LCB1c2VyIHNhaWQgXCJVc2UgZXhpc3RpbmcgY29udmVydGVyIGxvZ2ljXCIuXG4gICAgICAgIC8vIEluIFZTQ29kZS9tZXJmb3ggaXQgd2FzIHNyYy9saWIvY29udmVydGVyLlxuICAgICAgICAvLyBJbiBWNCwgbHMgc3JjL2xpYiBoYWQgbm8gY29udmVydGVyIGZvbGRlciBpbiBzdGVwIDEzNjY4LlxuICAgICAgICAvLyBJIHdpbGwgY2hlY2sgc3JjL2xpYiBjb250ZW50IGFnYWluLiBJZiBtaXNzaW5nLCBJIG11c3QgcG9ydCBBbWF6b25Db252ZXJ0ZXIgdG9vLlxuXG4gICAgICAgIC8vIFRlbXBvcmFyaWx5IGFzc3VtaW5nIGl0IGV4aXN0cyBvciBJIHdpbGwgY3JlYXRlIGl0LlxuICAgICAgICBjb25zdCBzdGF0cyA9IGF3YWl0IEFtYXpvbkNvbnZlcnRlci5jb252ZXJ0KHJ1bkRpciwge30pO1xuXG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuanNvbih7XG4gICAgICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICAgICAgcnVuX2lkOiBydW5JZCxcbiAgICAgICAgICAgIHJ1bl9kaXI6IHJ1bkRpcixcbiAgICAgICAgICAgIG1hcHBpbmdfc3RhdHVzOiBtYXBwaW5nU3RhdHVzLFxuICAgICAgICAgICAgYW1hem9uX3Jvd3M6IHN0YXRzLmNvbnZlcnRlZCxcbiAgICAgICAgICAgIGZhaWxlZF9yb3dzOiBzdGF0cy5mYWlsZWRcbiAgICAgICAgfSk7XG5cbiAgICB9IGNhdGNoIChlOiBhbnkpIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignW0FQSV0gQ29udmVyc2lvbiBmYWlsZWQ6JywgZSk7XG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuanNvbih7IGVycm9yOiBlLm1lc3NhZ2UgfHwgJ0NvbnZlcnNpb24gZmFpbGVkJyB9KTtcbiAgICB9XG59XG4iXSwibmFtZXMiOlsiZnMiLCJwYXRoIiwiQW1hem9uQ29udmVydGVyIiwiZ2V0UnVuRGlyIiwiZ2V0R2xvYmFsTWFwcGluZ1BhdGgiLCJoYW5kbGVyIiwicmVxIiwicmVzIiwibWV0aG9kIiwic3RhdHVzIiwianNvbiIsImVycm9yIiwicnVuSWQiLCJxdWVyeSIsIkFycmF5IiwiaXNBcnJheSIsInJ1bkRpciIsImdldFJ1bnNEaXIiLCJyZXF1aXJlIiwic2NhblBhdGgiLCJlcnJvckNvZGUiLCJoaW50IiwicnVuTWFwcGluZ1BhdGgiLCJqb2luIiwiZ2xvYmFsTWFwcGluZ1BhdGgiLCJtYXBwaW5nU3RhdHVzIiwiaGFzUnVuTWFwcGluZyIsImFjY2VzcyIsImhhc0dsb2JhbCIsImNvcHlGaWxlIiwiaGVhZGVyIiwid3JpdGVGaWxlIiwic3RhdHMiLCJjb252ZXJ0Iiwic3VjY2VzcyIsInJ1bl9pZCIsInJ1bl9kaXIiLCJtYXBwaW5nX3N0YXR1cyIsImFtYXpvbl9yb3dzIiwiY29udmVydGVkIiwiZmFpbGVkX3Jvd3MiLCJmYWlsZWQiLCJlIiwiY29uc29sZSIsIm1lc3NhZ2UiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./src/pages/api/runs/[runId]/convert.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fruns%2F%5BrunId%5D%2Fconvert&preferredRegion=&absolutePagePath=.%2Fsrc%2Fpages%2Fapi%2Fruns%2F%5BrunId%5D%2Fconvert.ts&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();